<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>I2C Utility</title><link rel="stylesheet" type="text/css" href="/+static/base.css"/><link rel="stylesheet" type="text/css" href="/+static/doc.css"/><link rel="stylesheet" type="text/css" href="/+static/prettify/prettify.css"/><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header "><div class="Header"><div class="Header-title"></div></div></header><div class="Site-content Site-Content--markdown"><div class="Container"><div class="doc"><h1><a class="h" name="I2C-Utility" href="#I2C-Utility"><span></span></a><a class="h" name="i2c-utility" href="#i2c-utility"><span></span></a>I2C Utility</h1><p>Provides I2C devices writes and reads. Note that DEVICE devfs nodes can also be selected by providing the device index, so <code class="code">i2cutil r 2 5</code> is equivalent to <code class="code">i2cutil r /dev/class/i2c/002 5</code>.</p><ol><li><p><code class="code">i2cutil r[ead] DEVICE ADDRESS</code></p><p>Reads one byte from the specified <code class="code">ADDRESS</code> of the specified <code class="code">DEVICE</code> devfs node (full path or device index) and outputs to the console. <code class="code">ADDRESS</code> here refers to the internal register set of the device, the I2C address is already part of the <code class="code">DEVICE</code> we are communicating with. Examples: a) <code class="code">i2cutil r /dev/class/i2c/004 5</code>, reads one byte from the one byte address 0x05. b) <code class="code">i2cutil r /dev/class/i2c/004 0x20 0x3d</code>, reads one byte from the two byte address 0x203d. This command is a convenience command, it is equivalent to a <code class="code">t</code> command (transaction, see below) with 2 segments, one that writes the address bytes and one that reads one byte back.</p></li><li><p><code class="code">i2cutil w[rite] DEVICE DATA...</code></p><p>Writes <code class="code">DATA</code> bytes into the specified I2C <code class="code">DEVICE</code> devfs node (full path or device index) and outputs to the console. Depending on the device, the first byte(s) correspond to the devices&#39; internal address. Examples: a) <code class="code">i2cutil w /dev/class/i2c/004 0x05 0x12</code>, writes byte 0x12 to address 0x05. b) <code class="code">i2cutil w /dev/class/i2c/004 0x20 0x3d 0x80</code>, writes byte 0x80 to address 0x203d. This command is a convenience command, it is equivalent to a <code class="code">t</code> command (transaction, see below) with 1 segment that writes the specified bytes.</p></li><li><p><code class="code">i2cutil t[ransact] DEVICE [w|r] [DATA...|LENGTH] [w|r] [DATA...|LENGTH]</code></p><p>Performs one transaction with multiple segments. Each segment may be of type <code class="code">w</code> (write) or <code class="code">r</code> (read). For each write <code class="code">DATA</code> bytes are written into the specified I2C <code class="code">DEVICE</code> devfs node (full path or device index) and for each read <code class="code">LENGTH</code> bytes are read from the specified I2C <code class="code">DEVICE</code> devfs node. Outputs to the console the read bytes. Examples: <code class="code">i2cutil t 4 w 5 r 1</code> equivalent to example a) within section 1 above (short path version). <code class="code">i2cutil t 4 w 0x20 0x3d 0x80</code> (equivalent to example b) within 2 above (short path version).</p></li><li><p><code class="code">i2cutil p[ing]</code></p><p>Pings all devices in <code class="code">/dev/class/i2c</code> by reading from each devices&#39; address 0x00. Example: <code class="code">i2cutil p /dev/class/i2c/000: OK [00164.657] 04506:05266&gt; i2c: error on bus Error -1 /dev/class/i2c/001: ERROR /dev/class/i2c/002: OK /dev/class/i2c/003: OK /dev/class/i2c/004: OK</code></p></li></ol></div></div></div><!-- default customFooter --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a>| <a href="https://policies.google.com/terms">Terms</a></span><div class="Footer-links"></div></div></footer><script nonce="eqCw6RPK2TmTOz3bdZST7w">window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga('create', 'UA-127897021-2', 'auto'); ga('send', 'pageview', {title: 'I2C Utility'});</script><script async src="https://www.google-analytics.com/analytics.js" nonce="eqCw6RPK2TmTOz3bdZST7w"></script></body></html>